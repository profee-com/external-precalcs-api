{"openapi":"3.0.1","info":{"title":"Profee WaaS integration API","description":"<h1>Welcome to the Profee wallet-as-a-service API documentation.</h1>\n<p>Our API allow you to embed financial services into your product: enable your users to hold funds, manage cash flow,\n    issue virtual card and make payments.</p>\n<p>\n    This documentation provides you with the following information divided into sections:\n</p>\n<ul>\n    <li>Authentication: procedure we use for verifying clients connecting to API;\n        We use basic authorization, which works quite simple: just encode in base64 the following\n        'your login':'password' and put the result under authorization header.\n    </li>\n    <li>Wallets: creation of user wallet, getting information about wallet state and upgrading to verified level that\n        increases wallet available limits;\n    </li>\n    <li>Payments: obtain information about available payment methods, checking availability and charges applied to\n        specific payment, payment creation;\n    </li>\n    <li>Cards: creation of virtual card for your user and obtaining card details, balance, transaction history,\n        getting\n    </li>\n</ul>\n<p>\n    list of tokenized cards issued in other banks available for user to make transfers.\n</p>\n<p>\n    This is a living document to be updated regularly with new functionality. To access our sandbox or address questions\n    to our developers please contact: <a href=\"mailto:waasteam@profeelab.net\">waasteam@profeelab.net</a>\n</p>","license":{"name":"Profee","url":"http://profee.com"},"version":"v0.0.1"},"servers":[{"url":"http://localhost:8081","description":"Generated server url"}],"paths":{"/wallet/update-email":{"post":{"tags":["Wallets"],"summary":"Update wallet E-Mail","description":"E-mail verification.<br/>If the e-mail has not been verified at the time of registration of a new user, you can use this request for a verification message","operationId":"updateEmail","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerUpdateEmailRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerWalletDto"}}}}}}},"/wallet/get-wallet":{"post":{"tags":["Wallets"],"summary":"Get wallet","description":"Get wallet actual balance, current limit, and wallet status","operationId":"getWallet","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerGetWalletRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerWalletDto"}}}}}}},"/wallet/create-wallet":{"post":{"tags":["Wallets"],"summary":"Create wallet","description":"Create a wallet, contains all the necessary data for new wallet registration.","operationId":"createWallet","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerCreateWalletRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerWalletDto"}}}}}}},"/wallet/add-document":{"post":{"tags":["Wallets"],"summary":"Add verification document","description":"Add verification document.<br/>This method you may use to add document for the specific wallet account, provision of documents initiates the upgrade of wallet verification level, leading to financial limits increase and card issuing enabling.\nRequired documents set should contain:\n- identity document;\n- selfie with identity document;\n- proof of residence.\nEach document is provided in a separate request.","operationId":"addDocument","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerAddDocumentDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerAddDocumentDto"}}}}}}},"/settings/payment-methods":{"post":{"tags":["Payments"],"summary":"Get payment methods","description":"All possible transaction options in the Profee are described by payment methods. The query allows you to get the available payment methods.","operationId":"getAvailablePaymentMethods","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerListPaymentMethodDto"}}}}}}},"/payments/create-payment-order":{"post":{"tags":["Payments"],"summary":"Create payment order","description":"Creating an order to make a payment.<br/>Checks the possibility to process a payment: balances and limits, the availability of the wallet. Calculates commissions.","operationId":"createPaymentOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerCreatePaymentOrderRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerPaymentOrderDto"}}}}}}},"/payment/create-payment":{"post":{"tags":["Payments"],"summary":"Create payment","description":"Creating a payment on a pre-placed order","operationId":"createPayment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerCreatePaymentRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerPayment"}}}}}}},"/card/get-card":{"post":{"tags":["Cards"],"summary":"Get Profee card information","description":"Get card data: name, status, currency. Wallet number to which the card is linked and payment product ID","operationId":"getCard","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerProfee Card Information Request"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerProfee Card"}}}}}}},"/card/get-card-tokens":{"post":{"tags":["Cards"],"summary":"Get card tokens","description":"After funding a Profee wallet with a bank card, the card data is saved in the form of a token.<br/>The token can be used for subsequent transactions to top up the wallet and withdrawals to the card.<br/>The request allows you to get all tokens linked to the wallet","operationId":"getCardTokens","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerCard Tokens Request"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerCard Tokens"}}}}}}},"/card/get-card-operations":{"post":{"tags":["Cards"],"summary":"Get Profee card operation history","description":"Get data on the latest card transactions","operationId":"getCardOperations","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerProfee Card Operations"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerCardOperationsDto"}}}}}}},"/card/get-card-balance":{"post":{"tags":["Cards"],"summary":"Get Profee card balance","description":"Get Profee card actual balance","operationId":"getCardBalance","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerProfee Card Balance Request"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerProfee Card Balance"}}}}}}},"/card/create-card":{"post":{"tags":["Cards"],"summary":"Create Profee card","description":"Issue Profee card. The user can get one card only","operationId":"createCard","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiRequestContainerCreate Profee Card"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseContainerProfee Card"}}}}}}}},"components":{"schemas":{"ApiRequestContainerUpdateEmailRequestDto":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/UpdateEmailRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"UpdateEmailRequestDto":{"required":["email","emailVerified","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"email":{"type":"string","description":"New User's E-Mail"},"emailVerified":{"type":"boolean","description":"Is User's E-Mail verified?"}},"description":"Request to update User's E-Mail"},"ApiResponseContainerWalletDto":{"required":["signature","status"],"type":"object","properties":{"response":{"$ref":"#/components/schemas/WalletDto"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"BalanceDto":{"required":["money"],"type":"object","properties":{"money":{"$ref":"#/components/schemas/Money"}},"description":"Balance"},"LimitDto":{"required":["sum","type"],"type":"object","properties":{"sum":{"$ref":"#/components/schemas/Money"},"type":{"type":"string","description":"Limit type","enum":["DAILY_TO","DAILY_FROM","MONTHLY_TO","MONTHLY_FROM","YEARLY_TO","YEARLY_FROM","GAMBLE"]}},"description":"Limit information"},"Money":{"required":["amount","currency"],"type":"object","properties":{"amount":{"type":"number","description":"Amount of money"},"currency":{"type":"string","description":"Currency of money"}},"description":"Amount and currency"},"ResponseStatus":{"required":["code","message"],"type":"object","properties":{"code":{"type":"string","description":"Response code (for machine)","enum":["OK","CREATED","BAD_REQUEST","UNEXPECTED_ERROR","CONFLICT"]},"message":{"type":"string","description":"Response message (for developer)"}},"description":"Response status"},"WalletDto":{"required":["balances","externalId","limits","status","verificationLevel","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"balances":{"type":"array","description":"Balances in all available currencies","items":{"$ref":"#/components/schemas/BalanceDto"}},"limits":{"type":"array","description":"Limits information in all available currencies","items":{"$ref":"#/components/schemas/LimitDto"}},"verificationLevel":{"type":"string","description":"User's Wallet verification level (KYC)","enum":["BASIC","PLUS","SUPER"]},"status":{"type":"string","description":"Wallet Status","enum":["ACTIVE","LOCKED","BLOCKED"]},"externalId":{"type":"string","description":"External ID - Wallet ID in Merchant system"}},"description":"Wallet information"},"ApiRequestContainerGetWalletRequestDto":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/GetWalletRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"GetWalletRequestDto":{"required":["walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"}},"description":"Request model to Get Wallet"},"AddressDto":{"required":["buildingName","city","flatNumber","postalCode","streetName"],"type":"object","properties":{"city":{"type":"string"},"postalCode":{"type":"string"},"streetName":{"type":"string"},"buildingName":{"type":"string"},"flatNumber":{"type":"string"}},"description":"User's residential address"},"ApiRequestContainerCreateWalletRequestDto":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/CreateWalletRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"CreateWalletRequestDto":{"required":["citizenship","dateOfBirth","email","emailVerified","externalId","firstName","lastName","phone","residence","residentialAddress"],"type":"object","properties":{"phone":{"type":"string","description":"User's phone number (must be verified before performing request)"},"email":{"type":"string","description":"User's email"},"emailVerified":{"type":"boolean","description":"Is User's E-Mail verified?"},"firstName":{"type":"string","description":"User's first name"},"lastName":{"type":"string","description":"User's last name"},"dateOfBirth":{"pattern":"yyyy-MM-dd","type":"string","description":"User's date of birth","format":"date"},"citizenship":{"maxLength":3,"minLength":3,"pattern":"[a-zA-Z]{3}","type":"string","description":"User's citizenship Alpha-3 code"},"residence":{"maxLength":3,"minLength":3,"pattern":"[a-zA-Z]{3}","type":"string","description":"User's residence Alpha-3 code"},"residentialAddress":{"$ref":"#/components/schemas/AddressDto"},"externalId":{"type":"string","description":"External ID - Wallet ID in Merchant system"}},"description":"Request model to Create Wallet"},"AddDocumentDto":{"required":["documentType","proofSubject","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"documentType":{"type":"string","description":"Personal document type","enum":["ID_CARD","PASSPORT","DRIVERS","BANK_CARD","UTILITY_BILL","BANK_STATEMENT","SELFIE","VIDEO_SELFIE","PROFILE_IMAGE","ID_DOC_PHOTO","AGREEMENT","CONTRACT","RESIDENCE_PERMIT","EMPLOYMENT_CERTIFICATE","DRIVERS_TRANSLATION","INVESTOR_DOC","VEHICLE_REGISTRATION_CERTIFICATE","INCOME_SOURCE","PAYMENT_METHOD","OTHER"]},"documentSubType":{"type":"string","description":"Personal document sub-type","enum":["FRONT_SIDE","BACK_SIDE"]},"proofSubject":{"type":"string","description":"Proof subject of document. Can be proof of residence, proof of identity or selfie","enum":["POI","SELFIE","POR"]},"countryCode":{"maxLength":3,"minLength":0,"type":"string","description":"3-letter country code"},"firstName":{"type":"string","description":"First name"},"middleName":{"type":"string","description":"Middle name"},"lastName":{"type":"string","description":"Last name"},"issuedDate":{"type":"string","description":"Issued date (format YYYY-mm-dd, e.g. 2001-09-25)","format":"date"},"validUntil":{"type":"string","description":"Valid until date (format YYYY-mm-dd, e.g. 2001-09-26)","format":"date"},"number":{"type":"string","description":"Document number"},"dateDfBirth":{"type":"string","description":"Date of birth (format YYYY-mm-dd, e.g. 2001-09-27)"},"placeOfBirth":{"type":"string","description":"Place of birth"},"documentContent":{"type":"string","description":"Personal document content (Base64 encoded file image content)"}},"description":"Request model to Upgrade User's wallet"},"ApiRequestContainerAddDocumentDto":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/AddDocumentDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"ApiResponseContainerAddDocumentDto":{"required":["signature","status"],"type":"object","properties":{"response":{"$ref":"#/components/schemas/AddDocumentDto"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"ApiResponseContainerListPaymentMethodDto":{"required":["signature","status"],"type":"object","properties":{"response":{"type":"array","description":"Response content","items":{"$ref":"#/components/schemas/PaymentMethodDto"}},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"PaymentMethodDto":{"type":"object","description":"Response content"},"ApiRequestContainerCreatePaymentOrderRequestDto":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/CreatePaymentOrderRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"CreatePaymentOrderRequestDto":{"required":["externalId","from","paymentMethodId","to","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"paymentMethodId":{"type":"string","description":"Payment method ID"},"from":{"$ref":"#/components/schemas/Leg of payment"},"to":{"$ref":"#/components/schemas/Leg of payment"},"externalId":{"type":"string","description":"External ID - Operation ID in Merchant system"}},"description":"Request model to Create Payment order"},"Leg of payment":{"required":["accountId","name","sum"],"type":"object","properties":{"accountId":{"type":"string","description":"User account ID"},"name":{"type":"string","description":"???"},"sum":{"$ref":"#/components/schemas/Money"}},"description":"Leg of Payment"},"ApiResponseContainerPaymentOrderDto":{"required":["signature","status"],"type":"object","properties":{"response":{"$ref":"#/components/schemas/PaymentOrderDto"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"PaymentOrderDto":{"required":["externalId","fee","from","paymentMethodId","paymentOrderId","to","walletId"],"type":"object","properties":{"paymentOrderId":{"type":"string","description":"Payment order ID"},"walletId":{"type":"string","description":"User's Wallet ID"},"paymentMethodId":{"type":"string","description":"Payment method ID"},"from":{"$ref":"#/components/schemas/Leg of payment"},"to":{"$ref":"#/components/schemas/Leg of payment"},"fee":{"$ref":"#/components/schemas/Money"},"externalId":{"type":"string","description":"External ID - Operation ID in Merchant system"}},"description":"Payment order"},"ApiRequestContainerCreatePaymentRequestDto":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/CreatePaymentRequestDto"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"CreatePaymentRequestDto":{"required":["externalId","paymentOrderId"],"type":"object","properties":{"paymentOrderId":{"type":"string","description":"Payment order ID obtained from Create payment order request"},"externalId":{"type":"string","description":"External ID - Payment ID in Merchant system"}},"description":"Request model to Create payment"},"ApiResponseContainerPayment":{"required":["signature","status"],"type":"object","properties":{"response":{"$ref":"#/components/schemas/Payment"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"Payment":{"required":["externalId","fee","from","paymentId","paymentOrderId","status","to","walletId"],"type":"object","properties":{"paymentId":{"type":"string","description":"Payment ID"},"paymentOrderId":{"type":"string","description":"Payment order ID used while creating Payment"},"status":{"type":"string","description":"Payment status","enum":["SUCCESS","IN_PROGRESS","ERROR","CONFIRMATION_REQUIRED"]},"walletId":{"type":"string","description":"User's Wallet ID"},"from":{"$ref":"#/components/schemas/Leg of payment"},"to":{"$ref":"#/components/schemas/Leg of payment"},"fee":{"$ref":"#/components/schemas/Money"},"externalId":{"type":"string","description":"Payment ID in Merchant System"}},"description":"Payment model"},"ApiRequestContainerProfee Card Information Request":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/Profee card information request"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Profee card information request":{"required":["cardId","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Request model to get Profee card information"},"ApiResponseContainerProfee Card":{"required":["signature","status"],"type":"object","properties":{"response":{"$ref":"#/components/schemas/Profee card"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"Profee card":{"required":["cardHolder","cardId","cardStatus","currency","paymentSystem","productCode","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"},"cardStatus":{"type":"string","description":"Profee card status","enum":["INITIALIZING","ISSUED","FROZEN"]},"cardHolder":{"type":"string","description":"Profee card holder"},"currency":{"type":"string","description":"Profee card currency"},"paymentSystem":{"type":"string","description":"Profee card payment system","enum":["VISA"]},"productCode":{"type":"string","description":"Profee payment product ID"}},"description":"Model Profee card"},"ApiRequestContainerCard Tokens Request":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/Card tokens request"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Card tokens request":{"required":["walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"}},"description":"Model card tokens"},"ApiResponseContainerCard Tokens":{"required":["signature","status"],"type":"object","properties":{"response":{"$ref":"#/components/schemas/Card tokens"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"Card tokens":{"required":["tokens"],"type":"object","properties":{"tokens":{"type":"array","description":"External card tokens","items":{"$ref":"#/components/schemas/Сard token request"}}},"description":"List of card tokens"},"Сard token request":{"required":["PAN","cardStatus","cardholder","paymentSystem","token"],"type":"object","properties":{"token":{"type":"string","description":"Card token"},"PAN":{"type":"string","description":"Masked PAN"},"cardholder":{"type":"string","description":"Cardholder"},"paymentSystem":{"type":"string","description":"Card payment system","enum":["VISA","MASTERCARD"]},"cardStatus":{"type":"string","description":"Card status","enum":["ISSUED","FROZEN"]}},"description":"Сard token"},"ApiRequestContainerProfee Card Operations":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/Profee card operations"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Profee card operations":{"required":["cardId","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Model Profee card operations history"},"ApiResponseContainerCardOperationsDto":{"required":["signature","status"],"type":"object","properties":{"response":{"$ref":"#/components/schemas/CardOperationsDto"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"CardOperationsDto":{"required":["cardId","operationsHistory","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"},"operationsHistory":{"type":"array","description":"Profee card operations history","items":{"$ref":"#/components/schemas/Payment"}}},"description":"Model Profee card operations history"},"ApiRequestContainerProfee Card Balance Request":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/Profee card balance request"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Profee card balance request":{"required":["cardId","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"}},"description":"Request to get Profee card balance"},"ApiResponseContainerProfee Card Balance":{"required":["signature","status"],"type":"object","properties":{"response":{"$ref":"#/components/schemas/Profee card balance"},"status":{"$ref":"#/components/schemas/ResponseStatus"},"signature":{"type":"string","description":"Signature of response content"}},"description":"Response wrapper"},"Profee card balance":{"required":["cardId","sum","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"cardId":{"type":"string","description":"Profee card ID"},"sum":{"$ref":"#/components/schemas/Money"}},"description":"Model Profee card balance"},"ApiRequestContainerCreate Profee Card":{"required":["request","signature"],"type":"object","properties":{"request":{"$ref":"#/components/schemas/Create Profee card"},"signature":{"type":"string","description":"Signature of request content"}},"description":"Request wrapper"},"Create Profee card":{"required":["productCode","walletId"],"type":"object","properties":{"walletId":{"type":"string","description":"User's Wallet ID"},"productCode":{"type":"string","description":"Profee payment product ID"}},"description":"Request model to create Profee card"}},"securitySchemes":{"basic":{"type":"http","name":"X-Merchant-Id","in":"header","scheme":"basic"}}}}